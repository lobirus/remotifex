@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Theme tokens (RGB channels for Tailwind alpha support) ---- */
:root {
  --c-page:           250 249 249;   /* stone-50 */
  --c-surface:        255 255 255;   /* white */
  --c-surface-hover:  245 245 244;   /* stone-100 */
  --c-surface-active: 231 229 228;   /* stone-200 */
  --c-inset:          245 245 244;   /* stone-100 */

  --c-text:           28 25 23;      /* stone-900 */
  --c-text-sub:       68 64 60;      /* stone-700 */
  --c-text-muted:     120 113 108;   /* stone-500 */
  --c-text-faint:     168 162 158;   /* stone-400 */

  --c-border:         214 211 209;   /* stone-300 â€” visible on white */
  --c-border-subtle:  231 229 228;   /* stone-200 */

  --c-brand-soft:     254 244 240;
}

.dark {
  --c-page:           12 12 12;
  --c-surface:        22 22 22;
  --c-surface-hover:  30 30 30;
  --c-surface-active: 40 40 40;
  --c-inset:          16 16 16;

  --c-text:           245 245 244;
  --c-text-sub:       214 211 209;
  --c-text-muted:     168 162 158;
  --c-text-faint:     87 83 78;

  --c-border:         45 45 45;
  --c-border-subtle:  32 32 32;

  --c-brand-soft:     42 21 16;
}

/* ---- Base ---- */
@layer base {
  body {
    @apply font-sans text-heading bg-page antialiased;
  }

  ::-webkit-scrollbar {
    @apply w-1.5;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-faint/40 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-faint/60;
  }
}

/* ---- Components ---- */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg
           font-semibold text-sm transition-all duration-150 ease-in-out
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-page
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-brand-600 text-white
           hover:bg-brand-500 hover:shadow-md hover:shadow-brand-600/25
           focus:ring-brand-500 active:bg-brand-700;
  }

  .btn-secondary {
    @apply btn bg-surface text-sub border border-edge
           hover:bg-surface-hover hover:border-muted/40
           focus:ring-muted;
  }

  .btn-ghost {
    @apply btn bg-transparent text-muted hover:bg-surface-hover hover:text-sub
           focus:ring-muted;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-500
           hover:shadow-md hover:shadow-red-600/25
           focus:ring-red-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  .input-field {
    @apply w-full px-3.5 py-2.5 rounded-lg
           border border-stone-300 dark:border-stone-600 bg-surface
           text-sm text-heading placeholder-faint
           hover:border-stone-400 dark:hover:border-stone-500
           focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-500/10
           transition-all duration-150;
  }

  select.input-field {
    @apply pr-9 appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23787267' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-position: right 0.625rem center;
    background-repeat: no-repeat;
    background-size: 1rem;
  }

  .card {
    @apply bg-surface rounded-xl border border-edge-subtle shadow-sm;
  }

  .card-hover {
    @apply card hover:shadow-md hover:border-edge
           transition-all duration-200 cursor-pointer;
  }
}
