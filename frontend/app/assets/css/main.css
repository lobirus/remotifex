@tailwind base;
@tailwind components;

/* ---- Theme tokens (RGB channels for Tailwind alpha support) ---- */
:root {
  --c-page:           250 249 249;   /* stone-50 */
  --c-surface:        255 255 255;   /* white */
  --c-surface-hover:  245 245 244;   /* stone-100 */
  --c-surface-active: 231 229 228;   /* stone-200 */
  --c-inset:          245 245 244;   /* stone-100 */

  --c-text:           28 25 23;      /* stone-900 */
  --c-text-sub:       68 64 60;      /* stone-700 */
  --c-text-muted:     120 113 108;   /* stone-500 */
  --c-text-faint:     168 162 158;   /* stone-400 */

  --c-border:         214 211 209;   /* stone-300 */
  --c-border-subtle:  231 229 228;   /* stone-200 */

  --c-brand-soft:     254 244 240;
}

.dark {
  --c-page:           12 12 12;
  --c-surface:        22 22 22;
  --c-surface-hover:  30 30 30;
  --c-surface-active: 40 40 40;
  --c-inset:          16 16 16;

  --c-text:           245 245 244;
  --c-text-sub:       214 211 209;
  --c-text-muted:     168 162 158;
  --c-text-faint:     87 83 78;

  --c-border:         45 45 45;
  --c-border-subtle:  32 32 32;

  --c-brand-soft:     42 21 16;
}

/* ---- Base ---- */
body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  color: rgb(var(--c-text));
  background-color: rgb(var(--c-page));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgb(var(--c-text-faint) / 0.4); border-radius: 9999px; }
::-webkit-scrollbar-thumb:hover { background: rgb(var(--c-text-faint) / 0.6); }

/* ---- Buttons ---- */
.btn,
.btn-primary,
.btn-secondary,
.btn-ghost,
.btn-danger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  line-height: 1.25rem;
  transition: all 150ms ease-in-out;
  cursor: pointer;
  border: none;
}

.btn:focus, .btn-primary:focus, .btn-secondary:focus, .btn-ghost:focus, .btn-danger:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--c-page)), 0 0 0 4px #d44520;
}

.btn:disabled, .btn-primary:disabled, .btn-secondary:disabled, .btn-ghost:disabled, .btn-danger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-primary {
  background-color: #d44520;
  color: #fff;
}

.btn-primary:hover:not(:disabled) {
  background-color: #ec5a2d;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

.btn-primary:active:not(:disabled) {
  background-color: #af381c;
}

.btn-secondary {
  background-color: rgb(var(--c-surface));
  color: rgb(var(--c-text-sub));
  border: 1px solid rgb(var(--c-border));
}

.btn-secondary:hover:not(:disabled) {
  background-color: rgb(var(--c-surface-hover));
  border-color: rgb(var(--c-text-muted) / 0.4);
}

.btn-ghost {
  background-color: transparent;
  color: rgb(var(--c-text-muted));
}

.btn-ghost:hover:not(:disabled) {
  background-color: rgb(var(--c-surface-hover));
  color: rgb(var(--c-text-sub));
}

.btn-danger {
  background-color: #dc2626;
  color: #fff;
}

.btn-danger:hover:not(:disabled) {
  background-color: #ef4444;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

.btn-sm {
  padding: 0.375rem 0.75rem;
  font-size: 0.75rem;
  line-height: 1rem;
}

.btn-lg {
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  line-height: 1.5rem;
}

/* ---- Inputs ---- */
.input-field {
  width: 100%;
  padding: 0.625rem 0.875rem;
  border-radius: 0.5rem;
  border: 1px solid #d6d3d1; /* stone-300 */
  background-color: rgb(var(--c-surface));
  color: rgb(var(--c-text));
  font-size: 0.875rem;
  line-height: 1.25rem;
  transition: all 150ms ease;
}

.input-field::placeholder {
  color: rgb(var(--c-text-faint));
}

.input-field:hover {
  border-color: #a8a29e; /* stone-400 */
}

.input-field:focus {
  outline: none;
  border-color: #d44520;
  box-shadow: 0 0 0 3px rgb(212 69 32 / 0.1);
}

.input-field:disabled {
  background-color: rgb(var(--c-inset));
  color: rgb(var(--c-text-faint));
  cursor: not-allowed;
}

.dark .input-field {
  border-color: #525252; /* stone-600 in dark */
}

.dark .input-field:hover {
  border-color: #78716c; /* stone-500 in dark */
}

select.input-field {
  padding-right: 2.25rem;
  appearance: none;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23787267' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
  background-position: right 0.625rem center;
  background-repeat: no-repeat;
  background-size: 1rem;
}

/* ---- Cards ---- */
.card {
  background-color: rgb(var(--c-surface));
  border-radius: 0.75rem;
  border: 1px solid rgb(var(--c-border-subtle));
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}

.card-hover {
  background-color: rgb(var(--c-surface));
  border-radius: 0.75rem;
  border: 1px solid rgb(var(--c-border-subtle));
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  transition: all 200ms ease;
  cursor: pointer;
}

.card-hover:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  border-color: rgb(var(--c-border));
}

/* Utilities come last so they can override component styles */
@tailwind utilities;
